<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Demo page</title>
        <link rel="stylesheet" href="./styles.css">
        <script src="../dist/baseui-wc-polyfills.min.js"></script>
        <script src="../demo/test-wc-ele/test-wc-ele_es5.js"></script>
    </head>
    <body>
        <test-comp></test-comp>
        <script>
            document.addEventListener('DOMContentLoaded', pageReady);

            async function pageReady() {
                let polyfilled = [];
                try {
                    /**
                     *  load WC polyfills and return promise
                     *  optional config to choose which polyfills needs to be initiated
                     */
                    polyfilled = await baseuiWcPolyfills.ready();
                }
                catch(reason) {
                    console.error(`Failed due to ${reason}`);
                }

                // if polyfills loaded show a banner
                if (polyfilled.length === 0) return;

                const logLoaded = document.createElement('span');
                logLoaded.classList.add('log-loaded');
                logLoaded.innerHTML = `Polyfills loaded: <strong>${polyfilled.join(', ')}</strong>`;
                document.body.insertBefore(logLoaded, document.body.firstChild);
            }
        </script>
    </body>
</html>
