{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1fe9257e7942825be082","webpack:///./demo/test-wc-ele.js"],"names":["markup","styles","ToggleView","_templateEle","document","createElement","innerHTML","shadowRoot","attachShadow","mode","_view","getAttribute","_searchUrl","_populateFeatures","then","_render","bind","catch","_promiseRejected","_wrapper","removeEventListener","_toggleHandler","name","oldValue","newValue","url","window","fetch","response","status","json","constructor","Promise","resolve","reject","wcFeatures","_getJSONResponse","featuresList","articles","map","_createFeaturesList","join","content","querySelector","ShadyCSS","prepareTemplate","styleElement","appendChild","setAttribute","toggleView","_addEvents","addEventListener","val","reason","Error","item","title","description","HTMLElement","customElements","define"],"mappings":"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","file":"test-wc-ele_es5.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ToggleView\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ToggleView\"] = factory();\n\telse\n\t\troot[\"ToggleView\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 72);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1fe9257e7942825be082","const markup = `\n    <slot name=\"title\"></slot>\n    <slot></slot>\n    <section class=\"wrapper\" js-result-items></section>\n`;\n\nconst styles = `\n<style>\n    :host  {\n        display: block;\n    }\n\n    .wrapper {\n      border: 1px solid #ccc;\n      border-radius: 6px;\n      color: #333;\n      cursor: pointer;\n      position: relative;\n    }\n\n    .wrapper:after {\n      content: \"view: \" attr(view);\n      display: block;\n      background-color: #FFBB33;\n      position: absolute;\n      top: 0;\n      right: 0;\n      padding: 2px 6px;\n      border-top-right-radius: 4px;\n    }\n\n    :host([toggle-view=\"list\"]) .wrapper {\n      margin: 0;\n    }\n\n    :host([toggle-view=\"list\"]) article {\n      display: block;\n      padding: 0 2%;\n    }\n\n    :host([toggle-view=\"list\"]) article:not(:last-child) {\n      border-bottom: 1px solid #ccc;\n    }\n\n    :host([toggle-view=\"table\"]) .wrapper {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n    }\n\n    :host([toggle-view=\"table\"]) article {\n      -webkit-box-flex: 1;\n          -ms-flex: 1 0 calc(50% - (4% + 2px));\n              flex: 1 0 calc(50% - (4% + 2px));\n      padding: 0 2%;\n    }\n\n    :host([toggle-view=\"table\"]) article:not(:nth-last-child(-n+2)) {\n      border-bottom: 1px solid #ccc;\n    }\n\n    :host([toggle-view=\"table\"]) article:nth-child(2n+2) {\n      border-left: 1px solid #ccc;\n    }\n\n    h2 {\n      margin: 20px 0 0;\n    }\n\n    p {\n      margin-top: 5px;\n    }\n</style>\n`;\n\nclass ToggleView extends HTMLElement {\n    static get observedAttributes() {\n        return ['toggle-view'];\n    }\n\n    constructor() {\n        super();\n\n        // component template and styles\n        this._templateEle = document.createElement('template');\n        this._templateEle.innerHTML = `${styles} ${markup}`;\n\n        // create shadowDOM\n        if (!this.shadowRoot) {\n            this.attachShadow({ mode: 'open' });\n        }\n\n        // props\n        this._view = this.getAttribute('toggle-view');\n        this._searchUrl = this.getAttribute('data-search-url');\n    }\n\n    connectedCallback() {\n        this._populateFeatures()\n            .then(this._render.bind(this))\n            .catch(this._promiseRejected);\n    }\n\n    disconnectedCallback() {\n        this._wrapper.removeEventListener('click', this._toggleHandler.bind(this));\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        this._view = newValue;\n    }\n\n    get toggleView() {\n        return this._view;\n    }\n\n    set toggleView(val) {\n        this.setAttribute('toggle-view', val);\n    }\n\n    static _promiseRejected(reason) {\n        throw new Error(`Promise rejected due to ${reason}.`);\n    }\n\n    _getJSONResponse(url) {\n        return window.fetch(url)\n            .then((response) => {\n                if (response.status >= 200 && response.status < 300) {\n                    return response;\n                }\n\n                return false;\n            })\n            .then(response => response.json())\n            .then(response => response)\n            .catch(this.constructor._promiseRejected);\n    }\n\n    static _createFeaturesList(item) {\n        return `\n        <article>\n            <h2>${item.title}</h2>\n            <p>${item.description}</p>\n        </article>\n    `;\n    }\n\n    _populateFeatures() {\n        return new Promise((resolve, reject) => {\n            const wcFeatures = this._getJSONResponse(this._searchUrl);\n\n            wcFeatures.then(\n                (response) => {\n                    const featuresList = response.articles.map(this.constructor._createFeaturesList).join('');\n                    this._templateEle.content.querySelector('[js-result-items]').innerHTML = featuresList;\n\n                    // resolve promise once template updated\n                    resolve();\n                }\n            ).catch(reject);\n        });\n    }\n\n    _render() {\n        // polyfill for non-supported browsers\n        if (window.ShadyCSS) {\n            window.ShadyCSS.prepareTemplate(this._templateEle, 'toggle-view');\n            window.ShadyCSS.styleElement(this);\n        }\n\n        // add template content to shadowRoot\n        this.shadowRoot.appendChild(this._templateEle.content);\n        this._wrapper = this.shadowRoot.querySelector('[js-result-items]');\n        this._wrapper.setAttribute('view', this.toggleView);\n\n        // attach events after render complete\n        this._addEvents();\n    }\n\n    _addEvents() {\n        this._wrapper.addEventListener('click', this._toggleHandler.bind(this));\n    }\n\n    _toggleHandler() {\n        this.toggleView = (this._view === 'list') ? 'table' : 'list';\n        this._wrapper.setAttribute('view', this.toggleView);\n    }\n}\nwindow.ToggleView = ToggleView;\nwindow.customElements.define('toggle-view', ToggleView);\n\n\n\n// WEBPACK FOOTER //\n// ./demo/test-wc-ele.js"],"sourceRoot":""}